<div class="min-h-full">
  <div class="py-12 space-y-6">
    <header>
      <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">
        <h1 class="text-3xl font-bold leading-tight tracking-tight text-gray-900">Autoscale Example App</h1>
      </div>
    </header>

    <main>
      <div class="mx-auto max-w-3xl sm:px-6 lg:px-8 space-y-12">
        <div class="prose max-w-none">
          <p>
            Hey! We’re <a href="https://judoscale.com" target="_blank">Judoscale</a>.
            We built this tiny Rails app for testing autoscalers.
          </p>

          <p>
            Use the form below to reload this page with a configurable processing time.
            Submit the form with cmd-tab (or ctrl-tab) to fire a bunch of requests in succession.
            Depending on your server capacity, you should start to see a slow-down due to
            request queueing. If you’ve configured autoscaling, this should trigger an upscale.
          </p>
        </div>

        <%= form_with model: @latency, url: false, method: :get do |form| %>
          <div class="border-t pt-12 space-y-6">
            <p class="prose">How long do you want the request to take?</p>

            <div class="space-y-2">
              <% latency_opts.each do |value, label| %>
                <label class="flex items-center">
                  <%= form.radio_button :ms, value, class: "focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300" %>
                  <span class="block ml-3 text-sm font-medium text-gray-700"><%= label %></span>
                </label>
              <% end %>
            </div>

            <div>
              <button type="submit" class=" bg-indigo-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600">
                Send request
              </button>
            </div>
          </div>
        <% end %>
      </div>
    </main>
  </div>
</div>
